<div class="py-4 md:py-6">
  <div class="bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl shadow-sm border border-gray-200 overflow-hidden">
    <!-- Encabezado -->
    <div class="bg-white border-b border-gray-200 px-4 md:px-6 py-4">
      <h2 class="text-[#162172] text-lg md:text-xl font-bold">Tareas de mantenimiento</h2>
    </div>

    <!-- Carrusel -->
    <div class="relative px-2 md:px-4 py-5">
      <div class="carousel-container overflow-hidden">
        <div class="carousel-track flex transition-transform duration-500 ease-in-out gap-4 md:gap-6">

          <!-- SLIDE 1 -->
          <article class="carousel-slide w-[280px] md:w-[320px] shrink-0">
            <div class="group bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-shadow">
              <div class="h-48 md:h-56 overflow-hidden">
                <img src="{{ asset('images/mantenimiento/mantenimiento11.jpg') }}"
                     alt="E.P.E.T Nº 4 (Andalgalá)"
                     class="w-full h-full object-cover group-hover:scale-[1.03] transition-transform duration-300">
              </div>
              <div class="p-3 md:p-4">
                <h3 class="text-gray-900 font-semibold leading-tight">E.P.E.T Nº 4 (Andalgalá)</h3>
                <p class="text-gray-700 text-sm mt-1 leading-relaxed">
                  Acometida y pilar de luz (mono → trifásica), revisión de cableado y tablero, recambio de llaves y luminarias en aulas.
                </p>
              </div>
            </div>
          </article>

          <!-- SLIDE 2 -->
          <article class="carousel-slide w-[280px] md:w-[320px] shrink-0">
            <div class="group bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-shadow">
              <div class="h-48 md:h-56 overflow-hidden">
                <img src="{{ asset('images/mantenimiento/mantenimiento2.jpg') }}"
                     alt="Escuela Secundaria Nº 77"
                     class="w-full h-full object-cover group-hover:scale-[1.03] transition-transform duration-300">
              </div>
              <div class="p-3 md:p-4">
                <h3 class="text-gray-900 font-semibold leading-tight">Escuela Secundaria Nº 77</h3>
                <p class="text-gray-700 text-sm mt-1 leading-relaxed">
                  Mantenimiento de griferías en sanitarios, cambio de presmatic y llaves de agua; recambio en bebederos.
                </p>
              </div>
            </div>
          </article>

          <!-- SLIDE 3 -->
          <article class="carousel-slide w-[280px] md:w-[320px] shrink-0">
            <div class="group bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-shadow">
              <div class="h-48 md:h-56 overflow-hidden">
                <img src="{{ asset('images/mantenimiento/mantenimiento3.jpg') }}"
                     alt="Escuela Secundaria Nº 77 (sanitarios)"
                     class="w-full h-full object-cover group-hover:scale-[1.03] transition-transform duration-300">
              </div>
              <div class="p-3 md:p-4">
                <h3 class="text-gray-900 font-semibold leading-tight">Escuela Secundaria Nº 77</h3>
                <p class="text-gray-700 text-sm mt-1 leading-relaxed">
                  Trabajos en sanitarios: revisión y reemplazo de griferías y componentes.
                </p>
              </div>
            </div>
          </article>

          <!-- SLIDE 4 -->
          <article class="carousel-slide w-[280px] md:w-[320px] shrink-0">
            <div class="group bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-shadow">
              <div class="h-48 md:h-56 overflow-hidden">
                <img src="{{ asset('images/mantenimiento/mantenimiento5.jpg') }}"
                     alt="Escuela Nº 277 Nicolás Avellaneda"
                     class="w-full h-full object-cover group-hover:scale-[1.03] transition-transform duration-300">
              </div>
              <div class="p-3 md:p-4">
                <h3 class="text-gray-900 font-semibold leading-tight">Escuela Nº 277 “N. Avellaneda”</h3>
                <p class="text-gray-700 text-sm mt-1 leading-relaxed">
                  Trabajos integrales de infraestructura sanitaria (Tapso, Dpto. El Alto).
                </p>
              </div>
            </div>
          </article>

          <!-- SLIDE 5 -->
          <article class="carousel-slide w-[280px] md:w-[320px] shrink-0">
            <div class="group bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-shadow">
              <div class="h-48 md:h-56 overflow-hidden">
                <img src="{{ asset('images/mantenimiento/mantenimiento6.jpg') }}"
                     alt="IFD – JIN Maternal Nº 1 Pasitos Cuidados"
                     class="w-full h-full object-cover group-hover:scale-[1.03] transition-transform duration-300">
              </div>
              <div class="p-3 md:p-4">
                <h3 class="text-gray-900 font-semibold leading-tight">IFD – JIN Maternal Nº 1</h3>
                <p class="text-gray-700 text-sm mt-1 leading-relaxed">
                  Regularización de pilar de luz, cambio de cableado, colocación de caja y llaves térmicas.
                </p>
              </div>
            </div>
          </article>

          <!-- SLIDE 6 -->
          <article class="carousel-slide w-[280px] md:w-[320px] shrink-0">
            <div class="group bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-shadow">
              <div class="h-48 md:h-56 overflow-hidden">
                <img src="{{ asset('images/mantenimiento/mantenimiento7.jpg') }}"
                     alt="ISAC desmalezamiento y limpieza"
                     class="w-full h-full object-cover group-hover:scale-[1.03] transition-transform duration-300">
              </div>
              <div class="p-3 md:p-4">
                <h3 class="text-gray-900 font-semibold leading-tight">ISAC</h3>
                <p class="text-gray-700 text-sm mt-1 leading-relaxed">
                  Desmalezamiento y limpieza integral del predio.
                </p>
              </div>
            </div>
          </article>

          <!-- SLIDE 7 -->
          <article class="carousel-slide w-[280px] md:w-[320px] shrink-0">
            <div class="group bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-shadow">
              <div class="h-48 md:h-56 overflow-hidden">
                <img src="{{ asset('images/mantenimiento/mantenimiento8.jpg') }}"
                     alt="Mantenimiento eléctrico"
                     class="w-full h-full object-cover group-hover:scale-[1.03] transition-transform duration-300">
              </div>
              <div class="p-3 md:p-4">
                <h3 class="text-gray-900 font-semibold leading-tight">Mantenimiento eléctrico</h3>
                <p class="text-gray-700 text-sm mt-1 leading-relaxed">
                  Regularización de pilar, cableado y protecciones (térmicas).
                </p>
              </div>
            </div>
          </article>

          <!-- SLIDE 8 -->
          <article class="carousel-slide w-[280px] md:w-[320px] shrink-0">
            <div class="group bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-shadow">
              <div class="h-48 md:h-56 overflow-hidden">
                <img src="{{ asset('images/mantenimiento/mantenimiento9.jpg') }}"
                     alt="Herrería y seguridad perimetral"
                     class="w-full h-full object-cover group-hover:scale-[1.03] transition-transform duration-300">
              </div>
              <div class="p-3 md:p-4">
                <h3 class="text-gray-900 font-semibold leading-tight">Escuela Secundaria Clara J. Armstrong Nº 2l</h3>
                <p class="text-gray-700 text-sm mt-1 leading-relaxed">
                  Renovación de luminarias en interiores y exteriores.
                </p>
              </div>
            </div>
          </article>

          <!-- SLIDE 9 -->
          <article class="carousel-slide w-[280px] md:w-[320px] shrink-0">
            <div class="group bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-shadow">
              <div class="h-48 md:h-56 overflow-hidden">
                <img src="{{ asset('images/mantenimiento/mantenimiento10.jpg') }}"
                     alt="Escuela Nº 45 Presidente Sarmiento"
                     class="w-full h-full object-cover group-hover:scale-[1.03] transition-transform duration-300">
              </div>
              <div class="p-3 md:p-4">
                <h3 class="text-gray-900 font-semibold leading-tight">Escuela Nº 45 “Pte. Sarmiento”</h3>
                <p class="text-gray-700 text-sm mt-1 leading-relaxed">
                  Colocación de plafones; reparación de ventiladores y caloventores (Huillapima).
                </p>
              </div>
            </div>
          </article>

        </div>
      </div>

      <!-- Controles -->
      <button type="button"
              class="carousel-prev absolute left-1 md:left-2 top-1/2 -translate-y-1/2 bg-white/95 hover:bg-white border border-gray-300 rounded-full p-2 shadow-sm hover:shadow-md z-10"
              aria-label="Anterior">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
        </svg>
      </button>

      <button type="button"
              class="carousel-next absolute right-1 md:right-2 top-1/2 -translate-y-1/2 bg-white/95 hover:bg-white border border-gray-300 rounded-full p-2 shadow-sm hover:shadow-md z-10"
              aria-label="Siguiente">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
        </svg>
      </button>

      <!-- Indicadores -->
      <div class="mt-5 flex justify-center gap-2" id="carouselIndicators" aria-label="Indicadores del carrusel"></div>
    </div>
  </div>
</div>

<style>
  .carousel-indicator {
    width: 8px; height: 8px; border-radius: 9999px;
    background: #cbd5e1; /* slate-300 */
    transition: transform .2s ease, background-color .2s ease;
  }
  .carousel-indicator.active {
    background: #1e40af; /* Edudata blue */
    transform: scale(1.25);
  }

  /* Ocultar scrollbar manteniendo el scroll interno si se usa */
  .carousel-container { -ms-overflow-style: none; scrollbar-width: none; }
  .carousel-container::-webkit-scrollbar { display: none; }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const track = document.querySelector('.carousel-track');
    const container = document.querySelector('.carousel-container');
    const slides = Array.from(document.querySelectorAll('.carousel-slide'));
    const prevBtn = document.querySelector('.carousel-prev');
    const nextBtn = document.querySelector('.carousel-next');
    const indicatorsWrap = document.getElementById('carouselIndicators');

    // Medidas: ancho de tarjeta + gap (coincide con Tailwind gap-4 md:gap-6)
    const gap = window.matchMedia('(min-width: 768px)').matches ? 24 : 16;

    function slideWidthPx() {
      // Tomamos el ancho renderizado (w-[280]/[320])
      return slides[0].getBoundingClientRect().width + gap;
    }

    let currentIndex = 0;
    let autoTimer = null;

    // Crear indicadores dinámicamente
    slides.forEach((_, i) => {
      const b = document.createElement('button');
      b.className = 'carousel-indicator';
      b.type = 'button';
      b.setAttribute('aria-label', `Ir a la tarjeta ${i + 1}`);
      b.addEventListener('click', () => goTo(i));
      indicatorsWrap.appendChild(b);
    });

    function updateIndicators() {
      const dots = indicatorsWrap.querySelectorAll('.carousel-indicator');
      dots.forEach((d, i) => d.classList.toggle('active', i === currentIndex));
    }

    function goTo(i) {
      const maxIndex = Math.max(0, slides.length - visibleSlides());
      currentIndex = Math.min(Math.max(i, 0), maxIndex);
      const x = -currentIndex * slideWidthPx();
      track.style.transform = `translateX(${x}px)`;
      updateIndicators();
    }

    function visibleSlides() {
      const w = container.getBoundingClientRect().width;
      return Math.max(1, Math.floor(w / slideWidthPx()));
    }

    function next() { goTo(currentIndex + 1); resetAuto(); }
    function prev() { goTo(currentIndex - 1); resetAuto(); }

    function startAuto() {
      stopAuto();
      autoTimer = setInterval(() => {
        const maxIndex = Math.max(0, slides.length - visibleSlides());
        if (currentIndex >= maxIndex) goTo(0); else goTo(currentIndex + 1);
      }, 4500);
    }
    function stopAuto() { if (autoTimer) clearInterval(autoTimer); }
    function resetAuto() { stopAuto(); startAuto(); }

    // Eventos
    nextBtn.addEventListener('click', next);
    prevBtn.addEventListener('click', prev);
    track.addEventListener('mouseenter', stopAuto);
    track.addEventListener('mouseleave', startAuto);
    window.addEventListener('resize', () => goTo(currentIndex));

    // Init
    goTo(0);
    startAuto();
  });
</script>
